--- net/unix/af_unix.c
+++ net/unix/af_unix.c
@@ -694,10 +692,9 @@
 	if (!sk)
 		return 0;
 
-	unix_release_sock(sk, 0);
 	sock->sk = NULL;
 
-	return 0;
+	return unix_release_sock(sk, 0);
 }
 
 static int unix_autobind(struct socket *sock)
