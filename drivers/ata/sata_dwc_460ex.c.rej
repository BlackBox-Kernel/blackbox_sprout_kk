--- drivers/ata/sata_dwc_460ex.c
+++ drivers/ata/sata_dwc_460ex.c
@@ -791,7 +791,7 @@
 	if (err) {
 		dev_err(host_pvt.dwc_dev, "%s: dma_request_interrupts returns"
 			" %d\n", __func__, err);
-		return err;
+		goto error_out;
 	}
 
 	/* Enabe DMA */
@@ -802,6 +802,11 @@
 		sata_dma_regs);
 
 	return 0;
+
+error_out:
+	dma_dwc_exit(hsdev);
+
+	return err;
 }
 
 static int sata_dwc_scr_read(struct ata_link *link, unsigned int scr, u32 *val)
@@ -1629,7 +1634,7 @@
 	char *ver = (char *)&versionr;
 	u8 *base = NULL;
 	int err = 0;
-	int irq;
+	int irq, rc;
 	struct ata_host *host;
 	struct ata_port_info pi = sata_dwc_port_info[0];
 	const struct ata_port_info *ppi[] = { &pi, NULL };
@@ -1683,7 +1688,7 @@
 	if (irq == NO_IRQ) {
 		dev_err(&ofdev->dev, "no SATA DMA irq\n");
 		err = -ENODEV;
-		goto error_iomap;
+		goto error_out;
 	}
 
 	/* Get physical SATA DMA register base address */
@@ -1692,16 +1697,14 @@
 		dev_err(&ofdev->dev, "ioremap failed for AHBDMA register"
 			" address\n");
 		err = -ENODEV;
-		goto error_iomap;
+		goto error_out;
 	}
 
 	/* Save dev for later use in dev_xxx() routines */
 	host_pvt.dwc_dev = &ofdev->dev;
 
 	/* Initialize AHB DMAC */
-	err = dma_dwc_init(hsdev, irq);
-	if (err)
-		goto error_dma_iomap;
+	dma_dwc_init(hsdev, irq);
 
 	/* Enable SATA Interrupts */
 	sata_dwc_enable_interrupts(hsdev);
@@ -1719,8 +1722,9 @@
 	 * device discovery process, invoking our port_start() handler &
 	 * error_handler() to execute a dummy Softreset EH session
 	 */
-	err = ata_host_activate(host, irq, sata_dwc_isr, 0, &sata_dwc_sht);
-	if (err)
+	rc = ata_host_activate(host, irq, sata_dwc_isr, 0, &sata_dwc_sht);
+
+	if (rc != 0)
 		dev_err(&ofdev->dev, "failed to activate host");
 
 	dev_set_drvdata(&ofdev->dev, host);
@@ -1729,8 +1733,7 @@
 error_out:
 	/* Free SATA DMA resources */
 	dma_dwc_exit(hsdev);
-error_dma_iomap:
-	iounmap((void __iomem *)host_pvt.sata_dma_regs);
+
 error_iomap:
 	iounmap(base);
 error_kmalloc:
@@ -1751,7 +1754,6 @@
 	/* Free SATA DMA resources */
 	dma_dwc_exit(hsdev);
 
-	iounmap((void __iomem *)host_pvt.sata_dma_regs);
 	iounmap(hsdev->reg_base);
 	kfree(hsdev);
 	kfree(host);
