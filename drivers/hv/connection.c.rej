--- drivers/hv/connection.c
+++ drivers/hv/connection.c
@@ -294,21 +294,10 @@
 	 * insufficient resources. Retry the operation a couple of
 	 * times before giving up.
 	 */
-	while (retries < 10) {
-		ret = hv_post_message(conn_id, 1, buffer, buflen);
-
-		switch (ret) {
-		case HV_STATUS_INSUFFICIENT_BUFFERS:
-			ret = -ENOMEM;
-		case -ENOMEM:
-			break;
-		case HV_STATUS_SUCCESS:
+	while (retries < 3) {
+		ret =  hv_post_message(conn_id, 1, buffer, buflen);
+		if (ret != HV_STATUS_INSUFFICIENT_BUFFERS)
 			return ret;
-		default:
-			pr_err("hv_post_msg() failed; error code:%d\n", ret);
-			return -EINVAL;
-		}
-
 		retries++;
 		msleep(100);
 	}
